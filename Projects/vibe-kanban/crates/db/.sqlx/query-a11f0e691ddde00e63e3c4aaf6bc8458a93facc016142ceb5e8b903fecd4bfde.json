{
  "db_name": "SQLite",
  "query": "\n            SELECT\n                s.workspace_id as \"workspace_id!: Uuid\",\n                ep.id as \"execution_process_id!: Uuid\",\n                ep.session_id as \"session_id!: Uuid\",\n                ep.status as \"status!: ExecutionProcessStatus\",\n                ep.completed_at as \"completed_at?: DateTime<Utc>\"\n            FROM execution_processes ep\n            JOIN sessions s ON ep.session_id = s.id\n            JOIN workspaces w ON s.workspace_id = w.id\n            WHERE w.archived = $1\n              AND ep.run_reason IN ('codingagent', 'setupscript', 'cleanupscript')\n              AND ep.dropped = FALSE\n              AND ep.created_at = (\n                  SELECT MAX(ep2.created_at)\n                  FROM execution_processes ep2\n                  JOIN sessions s2 ON ep2.session_id = s2.id\n                  WHERE s2.workspace_id = s.workspace_id\n                    AND ep2.run_reason IN ('codingagent', 'setupscript', 'cleanupscript')\n                    AND ep2.dropped = FALSE\n              )\n            ",
  "describe": {
    "columns": [
      {
        "name": "workspace_id!: Uuid",
        "ordinal": 0,
        "type_info": "Blob"
      },
      {
        "name": "execution_process_id!: Uuid",
        "ordinal": 1,
        "type_info": "Blob"
      },
      {
        "name": "session_id!: Uuid",
        "ordinal": 2,
        "type_info": "Blob"
      },
      {
        "name": "status!: ExecutionProcessStatus",
        "ordinal": 3,
        "type_info": "Text"
      },
      {
        "name": "completed_at?: DateTime<Utc>",
        "ordinal": 4,
        "type_info": "Text"
      }
    ],
    "parameters": {
      "Right": 1
    },
    "nullable": [
      false,
      true,
      false,
      false,
      true
    ]
  },
  "hash": "a11f0e691ddde00e63e3c4aaf6bc8458a93facc016142ceb5e8b903fecd4bfde"
}
